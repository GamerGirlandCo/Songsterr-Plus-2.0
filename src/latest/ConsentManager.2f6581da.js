import{e,p as t,h as s,F as i,f as n}from"./preact.272910a2.js";import{cf as r,L as o,u as a,cg as l,ch as c}from"./index.b0563877.js";class u extends Error{constructor(e){super(e),this.name="DecodingError"}}class d extends Error{constructor(e){super(e),this.name="EncodingError"}}class p extends Error{constructor(e){super(e),this.name="GVLError"}}class h extends Error{constructor(e,t,s=""){super(`invalid value ${t} passed for ${e} ${s}`),this.name="TCModelError"}}class m{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63],]);static BASIS=6;static LCM=24;static encode(e){if(!/^[0-1]+$/.test(e))throw new d("Invalid bitField");let t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";let s="";for(let i=0;i<e.length;i+=this.BASIS)s+=this.DICT[parseInt(e.substr(i,this.BASIS),2)];return s}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new u("Invalidly encoded Base64URL string");let t="";for(let s=0;s<e.length;s++){let i=this.REVERSE_DICT.get(e[s]).toString(2);t+="0".repeat(this.BASIS-i.length)+i}return t}}class g{clone(){let e=new this.constructor,t=Object.keys(this);return t.forEach(t=>{let s=this.deepClone(this[t]);void 0!==s&&(e[t]=s)}),e}deepClone(e){let t=typeof e;if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){let s=[];for(let i of e)s.push(this.deepClone(i));return e instanceof Array?s:new e.constructor(s)}else{let n={};for(let r in e)e.hasOwnProperty(r)&&(n[r]=this.deepClone(e[r]));return n}}}}class f extends g{root=null;isEmpty(){return!this.root}add(e){let t={value:e,left:null,right:null},s;if(this.isEmpty())this.root=t;else for(s=this.root;;)if(e<s.value){if(null===s.left){s.left=t;break}s=s.left}else if(e>s.value){if(null===s.right){s.right=t;break}s=s.right}else break}get(){let e=[],t=this.root;for(;t;)if(t.left){let s=t.left;for(;s.right&&s.right!=t;)s=s.right;s.right==t?(s.right=null,e.push(t.value),t=t.right):(s.right=t,t=t.left)}else e.push(t.value),t=t.right;return e}contains(e){let t=!1,s=this.root;for(;s;){if(s.value===e){t=!0;break}e>s.value?s=s.right:e<s.value&&(s=s.left)}return t}min(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root,t;for(;e;)e.left?e=e.left:(t=e.value,e=null);return t}max(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root,t;for(;e;)e.right?e=e.right:(t=e.value,e=null);return t}remove(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,s=null,i="left";for(;t;)if(e<t.value)s=t,t=t.left,i="left";else if(e>t.value)s=t,t=t.right,i="right";else{if(t.left||t.right){if(t.left){if(t.right){let n=this.min(t.right);this.remove(n,t.right),t.value=n}else s?s[i]=t.left:this.root=t.left}else s?s[i]=t.right:this.root=t.right}else s?s[i]=null:this.root=null;t=null}}}class v{static langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH",]);has(e){return v.langSet.has(e)}forEach(e){v.langSet.forEach(e)}get size(){return v.langSet.size}}class ${static cmpId="cmpId";static cmpVersion="cmpVersion";static consentLanguage="consentLanguage";static consentScreen="consentScreen";static created="created";static supportOOB="supportOOB";static isServiceSpecific="isServiceSpecific";static lastUpdated="lastUpdated";static numCustomPurposes="numCustomPurposes";static policyVersion="policyVersion";static publisherCountryCode="publisherCountryCode";static publisherCustomConsents="publisherCustomConsents";static publisherCustomLegitimateInterests="publisherCustomLegitimateInterests";static publisherLegitimateInterests="publisherLegitimateInterests";static publisherConsents="publisherConsents";static publisherRestrictions="publisherRestrictions";static purposeConsents="purposeConsents";static purposeLegitimateInterests="purposeLegitimateInterests";static purposeOneTreatment="purposeOneTreatment";static specialFeatureOptins="specialFeatureOptins";static useNonStandardStacks="useNonStandardStacks";static vendorConsents="vendorConsents";static vendorLegitimateInterests="vendorLegitimateInterests";static vendorListVersion="vendorListVersion";static vendorsAllowed="vendorsAllowed";static vendorsDisclosed="vendorsDisclosed";static version="version"}!function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(M||(M={}));class C extends g{static hashSeparator="-";purposeId_;restrictionType;constructor(e,t){super(),void 0!==e&&(this.purposeId=e),void 0!==t&&(this.restrictionType=t)}static unHash(e){let t=e.split(this.hashSeparator),s=new C;if(2!==t.length)throw new h("hash",e);return s.purposeId=parseInt(t[0],10),s.restrictionType=parseInt(t[1],10),s}get hash(){if(!this.isValid())throw Error("cannot hash invalid PurposeRestriction");return`${this.purposeId}${C.hashSeparator}${this.restrictionType}`}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===M.NOT_ALLOWED||this.restrictionType===M.REQUIRE_CONSENT||this.restrictionType===M.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}class E extends g{bitLength=0;map=new Map;gvl_;has(e){return this.map.has(e)}isOkToHave(e,t,s){var i;let n=!0;if(null===(i=this.gvl)||void 0===i?void 0:i.vendors){let r=this.gvl.vendors[s];if(r){if(e===M.NOT_ALLOWED)n=r.legIntPurposes.includes(t)||r.purposes.includes(t);else if(r.flexiblePurposes.length)switch(e){case M.REQUIRE_CONSENT:n=r.flexiblePurposes.includes(t)&&r.legIntPurposes.includes(t);break;case M.REQUIRE_LI:n=r.flexiblePurposes.includes(t)&&r.purposes.includes(t)}else n=!1}else n=!1}return n}add(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){let s=t.hash;this.has(s)||(this.map.set(s,new f),this.bitLength=0),this.map.get(s).add(e)}}restrictPurposeToLegalBasis(e){let t=this.gvl.vendorIds,s=e.hash,i=function(){let e;for(e of t);return e}();for(let n=1;n<=i;n++)this.has(s)||(this.map.set(s,new f),this.bitLength=0),this.map.get(s).add(n)}getVendors(e){let t=[];if(e){let s=e.hash;this.has(s)&&(t=this.map.get(s).get())}else{let i=new Set;this.map.forEach(e=>{e.get().forEach(e=>{i.add(e)})}),t=Array.from(i)}return t}getRestrictionType(e,t){let s;return this.getRestrictions(e).forEach(e=>{e.purposeId===t&&(void 0===s||s>e.restrictionType)&&(s=e.restrictionType)}),s}vendorHasRestriction(e,t){let s=!1,i=this.getRestrictions(e);for(let n=0;n<i.length&&!s;n++)s=t.isSameAs(i[n]);return s}getMaxVendorId(){let e=0;return this.map.forEach(t=>{e=Math.max(t.max(),e)}),e}getRestrictions(e){let t=[];return this.map.forEach((s,i)=>{e?s.contains(e)&&t.push(C.unHash(i)):t.push(C.unHash(i))}),t}getPurposes(){let e=new Set;return this.map.forEach((t,s)=>{e.add(C.unHash(s).purposeId)}),Array.from(e)}remove(e,t){let s=t.hash,i=this.map.get(s);i&&(i.remove(e),i.isEmpty()&&(this.map.delete(s),this.bitLength=0))}set gvl(e){this.gvl_||(this.gvl_=e,this.map.forEach((e,t)=>{let s=C.unHash(t),i=e.get();i.forEach(t=>{this.isOkToHave(s.restrictionType,s.purposeId,t)||e.remove(t)})}))}get gvl(){return this.gvl_}isEmpty(){return 0===this.map.size}get numRestrictions(){return this.map.size}}!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(G||(G={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(H||(H={}));class I{static ID_TO_KEY=[H.CORE,H.VENDORS_DISCLOSED,H.VENDORS_ALLOWED,H.PUBLISHER_TC,];static KEY_TO_ID={[H.CORE]:0,[H.VENDORS_DISCLOSED]:1,[H.VENDORS_ALLOWED]:2,[H.PUBLISHER_TC]:3}}class S extends g{bitLength=0;maxId_=0;set_=new Set;*[Symbol.iterator](){for(let e=1;e<=this.maxId;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach(e=>this.unset(e)):"object"==typeof e?this.unset(Object.keys(e).map(e=>Number(e))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(e=>{this.maxId_=Math.max(this.maxId,e)})))}isIntMap(e){let t="object"==typeof e;return t&&Object.keys(e).every(t=>{let s=Number.isInteger(parseInt(t,10));return(s=s&&this.isValidNumber(e[t].id))&&void 0!==e[t].name})}isValidNumber(e){return parseInt(e,10)>0}isSet(e){let t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}set(e){if(Array.isArray(e))e.forEach(e=>this.set(e));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(e=>Number(e)));else if(this.isValidNumber(e))this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0;else throw new h("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap")}empty(){this.set_=new Set}forEach(e){for(let t=1;t<=this.maxId;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}}class y{static [$.cmpId]=12;static [$.cmpVersion]=12;static [$.consentLanguage]=12;static [$.consentScreen]=6;static [$.created]=36;static [$.isServiceSpecific]=1;static [$.lastUpdated]=36;static [$.policyVersion]=6;static [$.publisherCountryCode]=12;static [$.publisherLegitimateInterests]=24;static [$.publisherConsents]=24;static [$.purposeConsents]=24;static [$.purposeLegitimateInterests]=24;static [$.purposeOneTreatment]=1;static [$.specialFeatureOptins]=12;static [$.useNonStandardStacks]=1;static [$.vendorListVersion]=12;static [$.version]=6;static anyBoolean=1;static encodingType=1;static maxId=16;static numCustomPurposes=6;static numEntries=12;static numRestrictions=12;static purposeId=6;static restrictionType=2;static segmentType=3;static singleOrRange=1;static vendorId=16}class A{static encode(e){return String(Number(e))}static decode(e){return"1"===e}}class L{static encode(e,t){let s;if("string"==typeof e&&(e=parseInt(e,10)),(s=e.toString(2)).length>t||e<0)throw new d(`${e} too large to encode into ${t}`);return s.length<t&&(s="0".repeat(t-s.length)+s),s}static decode(e,t){if(t!==e.length)throw new u("invalid bit length");return parseInt(e,2)}}class V{static encode(e,t){return L.encode(Math.round(e.getTime()/100),t)}static decode(e,t){if(t!==e.length)throw new u("invalid bit length");let s=new Date;return s.setTime(100*L.decode(e,t)),s}}class w{static encode(e,t){let s="";for(let i=1;i<=t;i++)s+=A.encode(e.has(i));return s}static decode(e,t){if(e.length!==t)throw new u("bitfield encoding length mismatch");let s=new S;for(let i=1;i<=t;i++)A.decode(e[i-1])&&s.set(i);return s.bitLength=e.length,s}}class b{static encode(e,t){e=e.toUpperCase();let s=e.charCodeAt(0)-65,i=e.charCodeAt(1)-65;if(s<0||s>25||i<0||i>25)throw new d(`invalid language code: ${e}`);if(t%2==1)throw new d(`numBits must be even, ${t} is not valid`);t/=2;let n=L.encode(s,t),r=L.encode(i,t);return n+r}static decode(e,t){let s;if(t!==e.length||e.length%2)throw new u("invalid bit length for language");{let i=e.length/2,n=L.decode(e.slice(0,i),i)+65,r=L.decode(e.slice(i),i)+65;s=String.fromCharCode(n)+String.fromCharCode(r)}return s}}class N{static encode(e){let t=L.encode(e.numRestrictions,y.numRestrictions);return e.isEmpty()||e.getRestrictions().forEach(s=>{t+=L.encode(s.purposeId,y.purposeId),t+=L.encode(s.restrictionType,y.restrictionType);let i=e.getVendors(s),n=i.length,r=0,o=0,a="";for(let l=0;l<n;l++){let c=i[l];0===o&&(r++,o=c);let u=i[n-1],d=e.gvl.vendorIds,p=e=>{for(;++e<=u&&!d.has(e););return e};if(l===n-1||i[l+1]>p(c)){let h=c!==o;a+=A.encode(h),a+=L.encode(o,y.vendorId),h&&(a+=L.encode(c,y.vendorId)),o=0}}t+=L.encode(r,y.numEntries),t+=a}),t}static decode(e){let t=0,s=new E,i=L.decode(e.substr(t,y.numRestrictions),y.numRestrictions);t+=y.numRestrictions;for(let n=0;n<i;n++){let r=L.decode(e.substr(t,y.purposeId),y.purposeId);t+=y.purposeId;let o=L.decode(e.substr(t,y.restrictionType),y.restrictionType);t+=y.restrictionType;let a=new C(r,o),l=L.decode(e.substr(t,y.numEntries),y.numEntries);t+=y.numEntries;for(let c=0;c<l;c++){let d=A.decode(e.substr(t,y.anyBoolean));t+=y.anyBoolean;let p=L.decode(e.substr(t,y.vendorId),y.vendorId);if(t+=y.vendorId,d){let h=L.decode(e.substr(t,y.vendorId),y.vendorId);if(t+=y.vendorId,h<p)throw new u(`Invalid RangeEntry: endVendorId ${h} is less than ${p}`);for(let m=p;m<=h;m++)s.add(m,a)}else s.add(p,a)}}return s.bitLength=t,s}}!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(B||(B={}));class T{static encode(e){let t=[],s=[],i=L.encode(e.maxId,y.maxId),n="",r,o=y.maxId+y.encodingType,a=o+e.maxId,l=2*y.vendorId+y.singleOrRange+y.numEntries,c=o+y.numEntries;return e.forEach((i,o)=>{if(n+=A.encode(i),(r=e.maxId>l&&c<a)&&i){let u=e.has(o+1);u?0===s.length&&(s.push(o),c+=y.singleOrRange,c+=y.vendorId):(s.push(o),c+=y.vendorId,t.push(s),s=[])}}),r?(i+=String(B.RANGE),i+=this.buildRangeEncoding(t)):(i+=String(B.FIELD),i+=n),i}static decode(e,t){let s,i=0,n=L.decode(e.substr(i,y.maxId),y.maxId);i+=y.maxId;let r=L.decode(e.charAt(i),y.encodingType);if(i+=y.encodingType,r===B.RANGE){if(s=new S,1===t){if("1"===e.substr(i,1))throw new u("Unable to decode default consent=1");i++}let o=L.decode(e.substr(i,y.numEntries),y.numEntries);i+=y.numEntries;for(let a=0;a<o;a++){let l=A.decode(e.charAt(i));i+=y.singleOrRange;let c=L.decode(e.substr(i,y.vendorId),y.vendorId);if(i+=y.vendorId,l){let d=L.decode(e.substr(i,y.vendorId),y.vendorId);i+=y.vendorId;for(let p=c;p<=d;p++)s.set(p)}else s.set(c)}}else{let h=e.substr(i,n);i+=n,s=w.decode(h,n)}return s.bitLength=i,s}static buildRangeEncoding(e){let t=e.length,s=L.encode(t,y.numEntries);return e.forEach(e=>{let t=1===e.length;s+=A.encode(!t),s+=L.encode(e[0],y.vendorId),t||(s+=L.encode(e[1],y.vendorId))}),s}}function O(){return{[$.version]:L,[$.created]:V,[$.lastUpdated]:V,[$.cmpId]:L,[$.cmpVersion]:L,[$.consentScreen]:L,[$.consentLanguage]:b,[$.vendorListVersion]:L,[$.policyVersion]:L,[$.isServiceSpecific]:A,[$.useNonStandardStacks]:A,[$.specialFeatureOptins]:w,[$.purposeConsents]:w,[$.purposeLegitimateInterests]:w,[$.purposeOneTreatment]:A,[$.publisherCountryCode]:b,[$.vendorConsents]:T,[$.vendorLegitimateInterests]:T,[$.publisherRestrictions]:N,segmentType:L,[$.vendorsDisclosed]:T,[$.vendorsAllowed]:T,[$.publisherConsents]:w,[$.publisherLegitimateInterests]:w,[$.numCustomPurposes]:L,[$.publisherCustomConsents]:w,[$.publisherCustomLegitimateInterests]:w}}class _{1={[H.CORE]:[$.version,$.created,$.lastUpdated,$.cmpId,$.cmpVersion,$.consentScreen,$.consentLanguage,$.vendorListVersion,$.purposeConsents,$.vendorConsents,]};2={[H.CORE]:[$.version,$.created,$.lastUpdated,$.cmpId,$.cmpVersion,$.consentScreen,$.consentLanguage,$.vendorListVersion,$.policyVersion,$.isServiceSpecific,$.useNonStandardStacks,$.specialFeatureOptins,$.purposeConsents,$.purposeLegitimateInterests,$.purposeOneTreatment,$.publisherCountryCode,$.vendorConsents,$.vendorLegitimateInterests,$.publisherRestrictions,],[H.PUBLISHER_TC]:[$.publisherConsents,$.publisherLegitimateInterests,$.numCustomPurposes,$.publisherCustomConsents,$.publisherCustomLegitimateInterests,],[H.VENDORS_ALLOWED]:[$.vendorsAllowed,],[H.VENDORS_DISCLOSED]:[$.vendorsDisclosed,]}}class P{1=[H.CORE,];2=[H.CORE,];constructor(e,t){if(2===e.version){if(e.isServiceSpecific)this["2"].push(H.PUBLISHER_TC);else{let s=!!(t&&t.isForVendors);s&&!0!==e[$.supportOOB]||this["2"].push(H.VENDORS_DISCLOSED),s&&(e[$.supportOOB]&&e[$.vendorsAllowed].size>0&&this["2"].push(H.VENDORS_ALLOWED),this["2"].push(H.PUBLISHER_TC))}}}}class R{static fieldSequence=new _;static encode(e,t){let s;try{s=this.fieldSequence[String(e.version)][t]}catch(i){throw new d(`Unable to encode version: ${e.version}, segment: ${t}`)}let n="";t!==H.CORE&&(n=L.encode(I.KEY_TO_ID[t],y.segmentType));let r=O();return s.forEach(s=>{let i=e[s],o=r[s],a=y[s];void 0===a&&this.isPublisherCustom(s)&&(a=Number(e[$.numCustomPurposes]));try{n+=o.encode(i,a)}catch(l){throw new d(`Error encoding ${t}->${s}: ${l.message}`)}}),m.encode(n)}static decode(e,t,s){let i=m.decode(e),n=0;s===H.CORE&&(t.version=L.decode(i.substr(n,y[$.version]),y[$.version])),s!==H.CORE&&(n+=y.segmentType);let r=this.fieldSequence[String(t.version)][s],o=O();return r.forEach(e=>{let s=o[e],r=y[e];if(void 0===r&&this.isPublisherCustom(e)&&(r=Number(t[$.numCustomPurposes])),0!==r){let a=i.substr(n,r);if(s===T?t[e]=s.decode(a,t.version):t[e]=s.decode(a,r),Number.isInteger(r))n+=r;else if(Number.isInteger(t[e].bitLength))n+=t[e].bitLength;else throw new u(e)}}),t}static isPublisherCustom(e){return 0===e.indexOf("publisherCustom")}}class D{static processor=[e=>e,(e,t)=>{e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset(1);let s=new Map;return s.set("legIntPurposes",e.vendorLegitimateInterests),s.set("purposes",e.vendorConsents),s.forEach((s,i)=>{s.forEach((n,r)=>{if(n){let o=t.vendors[r];if(!o||o.deletedDate)s.unset(r);else if(0===o[i].length){if("legIntPurposes"===i&&0===o.purposes.length&&0===o.legIntPurposes.length&&o.specialPurposes.length>0);else if(e.isServiceSpecific){if(0===o.flexiblePurposes.length)s.unset(r);else{let a=e.publisherRestrictions.getRestrictions(r),l=!1;for(let c=0,u=a.length;c<u&&!l;c++)l=a[c].restrictionType===M.REQUIRE_CONSENT&&"purposes"===i||a[c].restrictionType===M.REQUIRE_LI&&"legIntPurposes"===i;l||s.unset(r)}}else s.unset(r)}}})}),e.vendorsDisclosed.set(t.vendors),e},];static process(e,t){let s=e.gvl;if(!s)throw new d("Unable to encode TCModel without a GVL");if(!s.isReady)throw new d("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=s.language.toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;let i=e.version-1;if(!this.processor[i])throw new d(`Invalid version: ${e.version}`);return this.processor[i](e,s)}}class k{static absCall(e,t,s,i){return new Promise((n,r)=>{let o=new XMLHttpRequest,a=()=>{if(o.readyState==XMLHttpRequest.DONE){if(o.status>=200&&o.status<300){let e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}n(e)}else r(Error(`HTTP Status: ${o.status} response type: ${o.responseType}`))}},l=()=>{r(Error("error"))},c=()=>{r(Error("aborted"))},u=()=>{r(Error("Timeout "+i+"ms "+e))};o.withCredentials=s,o.addEventListener("load",a),o.addEventListener("error",l),o.addEventListener("abort",c),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=i,o.ontimeout=u,o.send(t)})}static post(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),s,i)}static fetch(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,s)}}class x extends g{static LANGUAGE_CACHE=new Map;static CACHE=new Map;static LATEST_CACHE_KEY=0;static DEFAULT_LANGUAGE="EN";static consentLanguages=new v;static baseUrl_;static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new p("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}static latestFilename="vendor-list.json";static versionedFilename="archives/vendor-list-v[VERSION].json";static languageFilename="purposes-[LANG].json";readyPromise;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;isReady_=!1;vendors_;vendorIds;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;stacks;lang_;isLatest=!1;constructor(e){super();let t=x.baseUrl;if(this.lang_=x.DEFAULT_LANGUAGE,this.isVendorList(e))this.populate(e),this.readyPromise=Promise.resolve();else{if(!t)throw new p("must specify GVL.baseUrl before loading GVL json");if(e>0){let s=e;x.CACHE.has(s)?(this.populate(x.CACHE.get(s)),this.readyPromise=Promise.resolve()):(t+=x.versionedFilename.replace("[VERSION]",String(s)),this.readyPromise=this.fetchJson(t))}else x.CACHE.has(x.LATEST_CACHE_KEY)?(this.populate(x.CACHE.get(x.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(t+x.latestFilename))}}static emptyLanguageCache(e){let t=!1;return void 0===e&&x.LANGUAGE_CACHE.size>0?(x.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(x.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}static emptyCache(e){let t=!1;return Number.isInteger(e)&&e>=0?(x.CACHE.delete(e),t=!0):void 0===e&&(x.CACHE=new Map,t=!0),t}cacheLanguage(){x.LANGUAGE_CACHE.has(this.lang_)||x.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})}async fetchJson(e){try{this.populate(await k.fetch(e))}catch(t){throw new p(t.message)}}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}async changeLanguage(e){let t=e.toUpperCase();if(x.consentLanguages.has(t)){if(t!==this.lang_){if(this.lang_=t,x.LANGUAGE_CACHE.has(t)){let s=x.LANGUAGE_CACHE.get(t);for(let i in s)s.hasOwnProperty(i)&&(this[i]=s[i])}else{let n=x.baseUrl+x.languageFilename.replace("[LANG]",e);try{await this.fetchJson(n),this.cacheLanguage()}catch(r){throw new p("unable to load language: "+r.message)}}}}else throw new p(`unsupported language ${e}`)}get language(){return this.lang_}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&x.CACHE.set(x.LATEST_CACHE_KEY,this.getJson()),x.CACHE.has(this.vendorListVersion)||x.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(e=>{this.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(e=>{this.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(e=>{this.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(e=>+e)),this.vendorIds=new Set(e),this.vendors_=e.reduce((e,t)=>{let s=this.vendors_[String(t)];return s&&void 0===s.deletedDate&&(s.purposes.forEach(e=>{let s=this.byPurposeVendorMap[String(e)];s.consent.add(t)}),s.specialPurposes.forEach(e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)}),s.legIntPurposes.forEach(e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)}),s.flexiblePurposes&&s.flexiblePurposes.forEach(e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)}),s.features.forEach(e=>{this.byFeatureVendorMap[String(e)].add(t)}),s.specialFeatures.forEach(e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)}),e[t]=s),e},{})}getFilteredVendors(e,t,s,i){let n=e.charAt(0).toUpperCase()+e.slice(1),r,o={};return("purpose"===e&&s?this["by"+n+"VendorMap"][String(t)][s]:this["by"+(i?"Special":"")+n+"VendorMap"][String(t)]).forEach(e=>{o[String(e)]=this.vendors[String(e)]}),o}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){let e=new x(this.getJson());return this.lang_!==x.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}class F extends g{static consentLanguages=x.consentLanguages;isServiceSpecific_=!1;supportOOB_=!0;useNonStandardStacks_=!1;purposeOneTreatment_=!1;publisherCountryCode_="AA";version_=2;consentScreen_=0;policyVersion_=2;consentLanguage_="EN";cmpId_=0;cmpVersion_=0;vendorListVersion_=0;numCustomPurposes_=0;gvl_;created;lastUpdated;specialFeatureOptins=new S;purposeConsents=new S;purposeLegitimateInterests=new S;publisherConsents=new S;publisherLegitimateInterests=new S;publisherCustomConsents=new S;publisherCustomLegitimateInterests=new S;customPurposes;vendorConsents=new S;vendorLegitimateInterests=new S;vendorsDisclosed=new S;vendorsAllowed=new S;publisherRestrictions=new E;constructor(e){super(),e&&(this.gvl=e),this.updated()}set gvl(e){x.isInstanceOf(e)||(e=new x(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(e=Number(e),Number.isInteger(e)&&e>1)this.cmpId_=e;else throw new h("cmpId",e)}get cmpId(){return this.cmpId_}set cmpVersion(e){if(e=Number(e),Number.isInteger(e)&&e>-1)this.cmpVersion_=e;else throw new h("cmpVersion",e)}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(e=Number(e),Number.isInteger(e)&&e>-1)this.consentScreen_=e;else throw new h("consentScreen",e)}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(/^([A-z]){2}$/.test(e))this.publisherCountryCode_=e.toUpperCase();else throw new h("publisherCountryCode",e)}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if((e=Number(e)>>0)<0)throw new h("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new h("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardStacks(e){this.useNonStandardStacks_=e}get useNonStandardStacks(){return this.useNonStandardStacks_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){let t=Object.keys(this.customPurposes).sort((e,t)=>Number(e)-Number(t));e=parseInt(t.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new h("numCustomPurposes",e)}updated(){let e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}class U{static encode(e,t){let s="",i;return e=D.process(e,t),i=Array.isArray(null==t?void 0:t.segments)?t.segments:new P(e,t)[""+e.version],i.forEach((t,n)=>{let r="";n<i.length-1&&(r="."),s+=R.encode(e,t)+r}),s}static decode(e,t){let s=e.split("."),i=s.length;t||(t=new F);for(let n=0;n<i;n++){let r=s[n],o=m.decode(r.charAt(0)),a=o.substr(0,y.segmentType),l=I.ID_TO_KEY[L.decode(a,y.segmentType).toString()];R.decode(r,t,l)}return t}}var M,G,H,B,Q,W,z,J,K={exports:{}};!function(e){var t;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t=function(){for(var e,t,i=[],n=window,r=n;r;){try{if(r.frames.__tcfapiLocator){e=r;break}}catch(o){}if(r===n.top)break;r=r.parent}e||(function e(){var t=n.document,s=!!n.frames.__tcfapiLocator;if(!s){if(t.body){var i=t.createElement("iframe");i.style.cssText="display:none",i.name="__tcfapiLocator",t.body.appendChild(i)}else setTimeout(e,5)}return!s}(),n.__tcfapi=function(){for(var e=arguments.length,s=Array(e),n=0;n<e;n++)s[n]=arguments[n];if(!s.length)return i;"setGdprApplies"===s[0]?s.length>3&&2===parseInt(s[1],10)&&"boolean"==typeof s[3]&&(t=s[3],"function"==typeof s[2]&&s[2]("set",!0)):"ping"===s[0]?"function"==typeof s[2]&&s[2]({gdprApplies:t,cmpLoaded:!1,cmpStatus:"stub"}):i.push(s)},n.addEventListener("message",function(e){var t="string"==typeof e.data,i={};if(t)try{i=JSON.parse(e.data)}catch(n){}else i=e.data;var r="object"===s(i)?i.__tcfapiCall:null;r&&window.__tcfapi(r.command,r.version,function(s,i){var n={__tcfapiReturn:{returnValue:s,success:i,callId:r.callId}};e&&e.source&&e.source.postMessage&&e.source.postMessage(t?JSON.stringify(n):n,"*")},r.parameter)},!1))},e.exports=t}(K);var Y=K.exports;!function(e){e.PING="ping",e.GET_TC_DATA="getTCData",e.GET_IN_APP_TC_DATA="getInAppTCData",e.GET_VENDOR_LIST="getVendorList",e.ADD_EVENT_LISTENER="addEventListener",e.REMOVE_EVENT_LISTENER="removeEventListener"}(Q||(Q={})),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(W||(W={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(z||(z={})),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(J||(J={}));class q{listenerId;callback;next;param;success=!0;constructor(e,t,s,i){Object.assign(this,{callback:e,listenerId:s,param:t,next:i});try{this.respond()}catch(n){this.invokeCallback(null)}}invokeCallback(e){let t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}class j extends q{respond(){this.throwIfParamInvalid(),this.invokeCallback(new es(this.param,this.listenerId))}throwIfParamInvalid(){if(void 0!==this.param&&(!Array.isArray(this.param)||!this.param.every(Number.isInteger)))throw Error("Invalid Parameter")}}class Z{eventQueue=new Map;queueNumber=0;add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}remove(e){return this.eventQueue.delete(e)}exec(){this.eventQueue.forEach((e,t)=>{new j(e.callback,e.param,t,e.next)})}clear(){this.queueNumber=0,this.eventQueue.clear()}get size(){return this.eventQueue.size}}class X{static apiVersion="2";static tcfPolicyVersion;static eventQueue=new Z;static cmpStatus=W.LOADING;static disabled=!1;static displayStatus=z.HIDDEN;static cmpId;static cmpVersion;static eventStatus;static gdprApplies;static tcModel;static tcString;static reset(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=W.LOADING,this.disabled=!1,this.displayStatus=z.HIDDEN,this.eventQueue.clear()}}class ee{cmpId=X.cmpId;cmpVersion=X.cmpVersion;gdprApplies=X.gdprApplies;tcfPolicyVersion=X.tcfPolicyVersion}class et extends ee{cmpStatus=W.ERROR}class es extends ee{tcString;listenerId;eventStatus;cmpStatus;isServiceSpecific;useNonStandardStacks;publisherCC;purposeOneTreatment;outOfBand;purpose;vendor;specialFeatureOptins;publisher;constructor(e,t){if(super(),this.eventStatus=X.eventStatus,this.cmpStatus=X.cmpStatus,this.listenerId=t,X.gdprApplies){let s=X.tcModel;this.tcString=X.tcString,this.isServiceSpecific=s.isServiceSpecific,this.useNonStandardStacks=s.useNonStandardStacks,this.purposeOneTreatment=s.purposeOneTreatment,this.publisherCC=s.publisherCountryCode,this.outOfBand={allowedVendors:this.createVectorField(s.vendorsAllowed,e),disclosedVendors:this.createVectorField(s.vendorsDisclosed,e)},this.purpose={consents:this.createVectorField(s.purposeConsents),legitimateInterests:this.createVectorField(s.purposeLegitimateInterests)},this.vendor={consents:this.createVectorField(s.vendorConsents,e),legitimateInterests:this.createVectorField(s.vendorLegitimateInterests,e)},this.specialFeatureOptins=this.createVectorField(s.specialFeatureOptins),this.publisher={consents:this.createVectorField(s.publisherConsents),legitimateInterests:this.createVectorField(s.publisherLegitimateInterests),customPurpose:{consents:this.createVectorField(s.publisherCustomConsents),legitimateInterests:this.createVectorField(s.publisherCustomLegitimateInterests)},restrictions:this.createRestrictions(s.publisherRestrictions)}}}createRestrictions(e){let t={};if(e.numRestrictions>0){let s=e.getMaxVendorId();for(let i=1;i<=s;i++){let n=i.toString();e.getRestrictions(i).forEach(e=>{let s=e.purposeId.toString();t[s]||(t[s]={}),t[s][n]=e.restrictionType})}}return t}createVectorField(e,t){return t?t.reduce((t,s)=>(t[String(s)]=e.has(Number(s)),t),{}):[...e].reduce((e,t)=>(e[t[0].toString(10)]=t[1],e),{})}}class ei extends es{constructor(e){super(e),delete this.outOfBand}createVectorField(e){return[...e].reduce((e,t)=>e+=t[1]?"1":"0","")}createRestrictions(e){let t={};if(e.numRestrictions>0){let s=e.getMaxVendorId();e.getRestrictions().forEach(e=>{t[e.purposeId.toString()]="_".repeat(s)});for(let i=0;i<s;i++){let n=i+1;e.getRestrictions(n).forEach(e=>{let s=e.restrictionType.toString(),n=e.purposeId.toString(),r=t[n].substr(0,i),o=t[n].substr(i+1);t[n]=r+s+o})}}return t}}class en extends ee{cmpLoaded=!0;cmpStatus=X.cmpStatus;displayStatus=X.displayStatus;apiVersion=String(X.apiVersion);gvlVersion;constructor(){super(),X.tcModel&&X.tcModel.vendorListVersion&&(this.gvlVersion=+X.tcModel.vendorListVersion)}}class er extends q{respond(){this.invokeCallback(new en)}}class eo extends j{respond(){this.throwIfParamInvalid(),this.invokeCallback(new ei(this.param))}}class ea extends q{respond(){let e=X.tcModel,t=e.vendorListVersion,s;void 0===this.param&&(this.param=t),(s=this.param===t&&e.gvl?e.gvl:new x(this.param)).readyPromise.then(()=>{this.invokeCallback(s.getJson())})}}class el extends j{respond(){this.listenerId=X.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),super.respond()}}class ec extends q{respond(){this.invokeCallback(X.eventQueue.remove(this.param))}}class eu{static [Q.PING]=er;static [Q.GET_TC_DATA]=j;static [Q.GET_IN_APP_TC_DATA]=eo;static [Q.GET_VENDOR_LIST]=ea;static [Q.ADD_EVENT_LISTENER]=el;static [Q.REMOVE_EVENT_LISTENER]=ec}class ed{static set_=new Set([0,2,void 0,null]);static has(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}let ep="__tcfapi";class eh{callQueue;customCommands;constructor(e){if(e){let t=Q.ADD_EVENT_LISTENER;if(null==e?void 0:e[t])throw Error(`Built-In Custom Commmand for ${t} not allowed: Use ${Q.GET_TC_DATA} instead`);if(t=Q.REMOVE_EVENT_LISTENER,null==e?void 0:e[t])throw Error(`Built-In Custom Commmand for ${t} not allowed`);(null==e?void 0:e[Q.GET_TC_DATA])&&(e[Q.ADD_EVENT_LISTENER]=e[Q.GET_TC_DATA],e[Q.REMOVE_EVENT_LISTENER]=e[Q.GET_TC_DATA]),this.customCommands=e}try{this.callQueue=window[ep]()||[]}catch(s){this.callQueue=[]}finally{window[ep]=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,s){for(var i=arguments.length,n=Array(i>3?i-3:0),r=3;r<i;r++)n[r-3]=arguments[r];if("string"!=typeof e)s(null,!1);else if(ed.has(t)){if("function"!=typeof s)throw Error("invalid callback function");X.disabled?s(new et,!1):this.isCustomCommand(e)||this.isBuiltInCommand(e)?this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?this.customCommands[e](s,...n):e===Q.PING?this.isCustomCommand(e)?new eu[e](this.customCommands[e],n[0],null,s):new eu[e](s,n[0]):void 0===X.tcModel?this.callQueue.push([e,t,s,...n]):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new eu[e](this.customCommands[e],n[0],null,s):new eu[e](s,n[0]):s(null,!1)}else s(null,!1)}purgeQueuedCalls(){let e=this.callQueue;this.callQueue=[],e.forEach(e=>{window[ep](...e)})}isCustomCommand(e){return this.customCommands&&"function"==typeof this.customCommands[e]}isBuiltInCommand(e){return void 0!==eu[e]}}class em{callResponder;isServiceSpecific;numUpdates=0;constructor(e,t,s=!1,i){this.throwIfInvalidInt(e,"cmpId",2),this.throwIfInvalidInt(t,"cmpVersion",0),X.cmpId=e,X.cmpVersion=t,X.tcfPolicyVersion=2,this.isServiceSpecific=!!s,this.callResponder=new eh(i)}throwIfInvalidInt(e,t,s){if(!("number"==typeof e&&Number.isInteger(e)&&e>=s))throw Error(`Invalid ${t}: ${e}`)}update(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(X.disabled)throw Error("CmpApi Disabled");X.cmpStatus=W.LOADED,t?(X.displayStatus=z.VISIBLE,X.eventStatus=J.CMP_UI_SHOWN):void 0===X.tcModel?(X.displayStatus=z.DISABLED,X.eventStatus=J.TC_LOADED):(X.displayStatus=z.HIDDEN,X.eventStatus=J.USER_ACTION_COMPLETE),X.gdprApplies=null!==e,X.gdprApplies?(""===e?(X.tcModel=new F,X.tcModel.cmpId=X.cmpId,X.tcModel.cmpVersion=X.cmpVersion):X.tcModel=U.decode(e),X.tcModel.isServiceSpecific=this.isServiceSpecific,X.tcfPolicyVersion=Number(X.tcModel.policyVersion),X.tcString=e):X.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():X.eventQueue.exec(),this.numUpdates++}disable(){X.disabled=!0,X.cmpStatus=W.ERROR}}let eg="Czsup",ef="Czs1b5",ev="Czs4c",e$="Czs1nq",eC="Czs1nq Czs1ot",eE="Czsaw",eI="Czszb",eS="Czsn5",ey="Czs221",eA="Czs1rj",e8="Czs1an",eL="Czs1an Czs24z",eV="Czs1an Czs246",ew={settings:"Czsup",panel:"Czs1b5",head:"Czs4c",switch:"Czs1nq",switchActive:"Czs1nq Czs1ot",title:"Czsaw",body:"Czszb",actions:"Czsn5",caption:"Czs221",fastActions:"Czs1rj",button:"Czs1an",fast:"Czs1an Czs24z",buttonGray:"Czs1an Czs246"},eb="nv2u9",eN="nv348",eT={search:"nv2u9",notfound:"nv348"},eO="t26u",e_="t26u t22ky",eP="t2128",eR="t2f4",eD="t21qn",ek="t21qi",ex="t21pl",eF="t2ob",eU="t2y6",eM="t21cy",e0="t22q9",eG="t2zi",eH="t2p2",eB={vendor:"t26u",vendorExpanded:"t26u t22ky",line:"t2128",name:"t2f4",toggle:"t21qn",descriptions:"t21qi",point:"t21pl",feature:"t2ob",section:"t2y6",cookie:"t21cy",details:"t22q9",stroke:"t2zi",policy:"t2p2"},e1="Beh28h",e9="Beh29q",eQ="Beh1k3",e2="Behyf",e4={toggle:"Beh28h",button:"Beh29q",on:"Beh1k3",off:"Behyf"},e3=e=>e.stopPropagation();function eW(t){let{checked:s,onChange:i}=t;return e("div",{className:e4.toggle,onClick:e3,children:[e("label",{className:e4.on,children:[e("input",{type:"radio",checked:"on"===s,value:"on",onChange:i}),e("span",{className:e4.button,children:"On"}),]}),e("label",{className:e4.off,children:[e("input",{type:"radio",checked:"off"===s,value:"off",onChange:i}),e("span",{className:e4.button,children:"Off"}),]}),]})}function ez(e){let{vendor:t,gvl:i,show:n}=e,r="consent"===n?t.purposes:t.legIntPurposes,o=t.features.length>0,a=t.specialPurposes.length>0,l=t.specialFeatures.length>0,c=Math.ceil((t.cookieMaxAgeSeconds||0)/86400);return s("div",{className:eB.details},s("a",{href:t.policyUrl,className:eB.policy,title:"Privacy Policy",target:"_blank"},t.name),s("div",{className:eB.section},"consent"===n?"Consent Purposes":"Legitimate Interest Purposes"),r.map(e=>s("div",{className:eB.feature},i.purposes[e].name)),o&&s("div",{className:eB.section},"Features"),o&&t.features.map(e=>s("div",{className:eB.feature},i.features[e].name)),a&&s("div",{className:eB.section},"Special Purposes"),a&&t.specialPurposes.map(e=>s("div",{className:eB.feature},i.specialPurposes[e].name)),l&&s("div",{className:eB.section},"Special Features"),l&&t.specialFeatures.map(e=>s("div",{className:eB.feature},i.specialFeatures[e].name)),s("div",{className:eB.cookie},`Uses cookies: ${t.usesCookies?"Yes":"No"}`),t.usesCookies&&s("div",{className:eB.cookie},`Cookie refresh: ${t.cookieRefresh?"Yes":"No"}`),t.usesCookies&&s("div",{className:eB.cookie},`Cookie max age: ${c} ${1===c?"day":"days"}`),s("div",{className:eB.cookie},`Uses Non-Cookie Access: ${t.usesNonCookieAccess?"Yes":"No"}`))}function e6(i){let{gvl:n,vendor:o,consents:a,show:l}=i,c=a.has(o.id),[u,d]=t(c?"on":"off"),[p,h]=t(!1),m=e=>{let t=e.target.value;d(t),"on"===t?a.set(o.id):a.unset(o.id),e.stopPropagation()},g=()=>{h(!p)};return e("div",{className:p?eB.vendorExpanded:eB.vendor,children:[e("div",{className:eB.line,onClick:g,children:[e(r,{up:p,styles:eB}),e("div",{className:eB.name,children:o.name}),e("div",{className:eB.toggle,children:e(eW,{checked:u,onChange:m})}),]}),p&&s(ez,{vendor:o,gvl:n,show:l}),]})}let eJ="Bt45n",eK="Bt4vb",eY={toggle:"Bt45n",button:"Bt4vb"};function eq(t){let{show:s,setShow:i}=t,n=e=>{let t=e.target.value;i(t),e.stopPropagation()};return e("div",{className:eY.toggle,children:[e("label",{children:[e("input",{type:"radio",checked:"consent"===s,value:"consent",onChange:n}),e("span",{className:eY.button,children:"User Consent"}),]}),e("label",{children:[e("input",{type:"radio",checked:"interest"===s,value:"interest",onChange:n}),e("span",{className:eY.button,children:"Legitimate Interest"}),]}),]})}function e7(n){let{gvl:r,tcModel:o}=n,[a,l]=t("consent"),[c,u]=t(""),d=i(()=>Object.values(r.vendors).sort((e,t)=>e.name.localeCompare(t.name)),[r.vendors]),p=c.toLowerCase(),h=d.filter("consent"===a?e=>e.purposes.length>0||e.specialPurposes.length>0||e.specialFeatures.length>0:e=>e.legIntPurposes.length>0).filter(e=>-1!==e.name.toLowerCase().indexOf(p)),m="consent"===a?o.vendorConsents:o.vendorLegitimateInterests,g=e=>u(e.target.value);return s("div",{className:eT.vendors},s(eq,{show:a,setShow:l}),s("input",{className:eT.search,value:c,onChange:g,placeholder:"Search Vendors..."}),h.map(t=>e(e6,{gvl:r,vendor:t,consents:m,show:a},a+t.id)),0===h.length&&s("p",{className:eT.notfound},"No results"))}let e5="u21rn",ej="u254",eZ={title:"u21rn",help:"u254"},eX="Bnz2i8",te="Bnz2i8 Bnz2qy",tt="Bnzr2",ts="Bnz2mj",ti="Bnz2v6",tn="Bnzg6",tr="Bnzui",to="Bnzhx",ta="Bnz4o",tl="Bnz148",tc="Bnzpc",tu="Bnzxr",td={purpose:"Bnz2i8",purposeExpanded:"Bnz2i8 Bnz2qy",line:"Bnzr2",name:"Bnz2mj",toggle:"Bnz2v6",descriptions:"Bnzg6",point:"Bnzui",bullet:"Bnzhx",details:"Bnz4o",stroke:"Bnz148",vendor:"Bnzpc",more:"Bnzxr"};function tp(e){let{getVendors:n,purpose:o,consents:a}=e,l=o.description.split("\n"),c=o.descriptionLegal.split("\n"),u=a&&a.has(o.id),[d,p]=t(u?"on":"off"),[h,m]=t(!1),[g,f]=t(!1),v=e=>{let t=e.target.value;p(t),"on"===t?a.set(o.id):a.unset(o.id),e.stopPropagation()},$=()=>{m(!h)},C=()=>{f(!g)},E=i(()=>{if(!h)return null;let e=Object.values(n(o.id)).sort((e,t)=>e.name.localeCompare(t.name));return g?e:e.slice(0,3)},[h,g,n]);return s("div",{className:h?td.purposeExpanded:td.purpose},s("div",{className:td.line,onClick:$},s(r,{up:h,styles:td}),s("div",{className:td.name},o.name),a&&s("div",{className:td.toggle},s(eW,{checked:d,onChange:v}))),h&&s("div",{className:td.details},l.map(e=>s("div",{className:td.description},e)),c.map(e=>s("div",{className:0===e.indexOf("*")?td.bullet:td.point},e.replace(/^\*/,"").trim())),E.map(e=>s("a",{href:e.policyUrl,className:td.vendor,target:"_blank"},e.name)),E.length>0&&s("span",{className:td.more,onClick:C},g?"View\xa0\xa0less":"View\xa0all")))}function th(i){let{gvl:n,tcModel:r}=i,[o,a]=t("consent"),l="consent"===o?n.getVendorsWithConsentPurpose.bind(n):n.getVendorsWithLegIntPurpose.bind(n),c="consent"===o?r.purposeConsents:r.purposeLegitimateInterests;return s("div",{className:eZ.purposes},s(eq,{show:o,setShow:a}),s("p",{className:eZ.title},"Purposes"),s("p",{className:eZ.help},"consent"===o?"You give an affirmative action to indicate that we can use your data for this purpose.":"We have a need to use your data for this processing purpose that is required for us to deliver services to you."),Object.values(n.purposes).filter(e=>"consent"===o||1!==e.id).map(t=>e(tp,{getVendors:l,purpose:t,consents:c,show:o},o+t.id)),s("p",{className:eZ.title},"Special Purposes"),s("p",{className:eZ.help},"We have a need to use your data for this processing purpose that is required for us to deliver services to you."),Object.values(n.specialPurposes).map(t=>e(tp,{getVendors:n.getVendorsWithSpecialPurpose.bind(n),purpose:t},t.name)))}let tm="B7n1dc",tg="B7n31f",tf={highlight:"B7n1dc",text:"B7n31f"};function tv(t){let{gvl:i,tcModel:n}=t;return s("div",{className:tf.features},s("p",{className:tf.text},s("strong",{className:tf.highlight},"Features")," are a use of the data that you have already agreed to share with us."),Object.values(i.features).map(t=>e(tp,{getVendors:i.getVendorsWithFeature.bind(i),purpose:t},t.name)),s("p",{className:tf.text},s("strong",{className:tf.highlight},"Special Features")," are processing purposes that require your explicit consent."),Object.values(i.specialFeatures).map(t=>e(tp,{getVendors:i.getVendorsWithSpecialFeature.bind(i),purpose:t,consents:n.specialFeatureOptins},t.name)))}function t$(e){let{state:i,options:n,closeView:r,openSummaryView:o}=e,a=()=>{i.acceptAll(2),r()},l=()=>{i.rejectAll(2),r()},c=()=>{i.confirmChoice(2),r()},u=()=>{(null==n?void 0:n.cancel)==="summary"?o():r()},[d,p]=t((null==n?void 0:n.section)||"purposes"),h=()=>p("purposes"),m=()=>p("features"),g=()=>p("vendors"),f=i.tcModel.gvl;return s("section",{className:ew.settings},s("div",{className:ew.panel},s("div",{className:ew.head},s("div",{className:ew.title},"Privacy settings"),s("p",null,"Please manage your cookie choices by switching the consent toggles on or off under the Purposes listed below. You can also choose to click:"),s("div",{className:ew.fastActions},s("button",{id:"accept",className:ew.fast,onClick:l},"Reject all"),s("button",{id:"refuse",className:ew.fast,onClick:a},"Accept all")),s("button",{className:"purposes"===d?ew.switchActive:ew.switch,onClick:h},"Purposes"),s("button",{className:"features"===d?ew.switchActive:ew.switch,onClick:m},"Features"),s("button",{className:"vendors"===d?ew.switchActive:ew.switch,onClick:g},"Vendors")),s("div",{className:ew.body},"purposes"===d&&s(th,{gvl:f,tcModel:i.tcModel}),"features"===d&&s(tv,{gvl:f,tcModel:i.tcModel}),"vendors"===d&&s(e7,{gvl:f,tcModel:i.tcModel})),s("div",{className:ew.actions},s("p",null,"You can change the above settings for this browser at any time by clicking the privacy settings link in the footer of the page."),s("button",{id:"save",className:ew.button,onClick:c},"Save & close"),s("button",{id:"cancel",className:ew.buttonGray,onClick:u},"Cancel"))))}let tC="Cqw1bs",tE="Cqw1d2",tI="Cqw11o",tS="Cqw76",ty="Cqw1q5",tA="Cqw1hm",t8="Cqw1id",tL="Cqw1wb",tV="Cqw1q5 Cqwii",tw="Cqw1if",tb="Cqwug",tN="Cqwdk",tT="Cqwdk Cqw3e",tO="Cqw1yo",t_={consent:"Cqw1bs",panel:"Cqw1d2",align:"Cqw11o",row:"Cqw76",column:"Cqw1q5",title:"Cqw1hm",caption:"Cqw1id",note:"Cqw1wb",columnSmallScreen:"Cqw1q5 Cqwii",text:"Cqw1if",actions:"Cqwug",button:"Cqwdk",buttonGray:"Cqwdk Cqw3e",buttonInline:"Cqw1yo"};function tP(e){let{state:t,openDetailsView:i,closeView:n}=e,r=e=>{t.acceptAll(1),n(),e.preventDefault()},a=e=>{i("purposes"),e.preventDefault()},l=e=>{i("vendors"),e.preventDefault()};return s("section",{className:t_.consent},s("div",{className:t_.panel},s("div",{className:t_.align},s("div",{className:t_.title},"Itâ€™s your choice"),s("div",{className:t_.summary},s("div",{className:t_.row},s("div",{className:t_.column},s("p",null,"When we\xa0make the Songsterr available to\xa0you online, we\xa0use cookies and similar technologies to\xa0help\xa0us to\xa0do\xa0this. Some are necessary to\xa0help our website work properly and can't be\xa0switched off, and some are optional but support the Songsterr and your experience in\xa0other ways.")),s("div",{className:t_.column},s("p",null,"We\xa0and ",s("button",{className:t_.buttonInline,onClick:l},"our partners")," store and access information on a\xa0device, such as\xa0cookies, and process personal data, such as\xa0unique identifiers, page visits, IP address, and standard information sent by a\xa0device to\xa0provide, analyse, and improve our services. This includes personalising content or\xa0advertising for you.")),s("div",{className:t_.column},s("p",{className:t_.note},"We\xa0use cookies and similar technologies for the following purposes:"),s("ul",null,s("li",null,"Store and/or access information on\xa0a\xa0device"),s("li",null,"Personalised ads and content, ad\xa0and content measurement, audience insights and product development"))),s("div",{className:t_.column},s("p",null,"You can find out more in\xa0our ",s(o,{href:"/a/wa/privacy"},"privacy\xa0policy")," and ",s(o,{href:"/a/wa/terms"},"terms of\xa0service")," and manage the choices available to\xa0you at\xa0any time by\xa0going to 'Privacy settings' at\xa0the bottom of\xa0any page."))),s("div",{className:t_.cta},s("p",{className:t_.text},s("span",{className:t_.caption},"Are you happy to accept cookies? "),"To\xa0manage your cookie choices now, including how to\xa0opt out where our partners rely on\xa0legitimate interests to\xa0use your information, ",s("span",{className:t_.note},"click on\xa0Manage\xa0my\xa0cookies."))))),s("div",{className:t_.actions},s("div",{className:t_.align},s("button",{id:"accept",className:t_.button,onClick:r},"Accept cookies"),s("button",{id:"refuse",className:t_.buttonGray,onClick:a},"Manage my cookies")))))}Y(),x.baseUrl="/vendor-list.consensu.org/v2";let tR=384,tD=1,tk,tx=()=>(tk||(tk=new em(384,1,!0)),tk);class tF{constructor(e,t){this.actions=t,this.hasConsent=!!e,this.tcModel=e?U.decode(e):new F,tx().update(e||"",!e)}encodeTcString(){return U.encode(this.tcModel)}confirmChoice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.tcModel.consentScreen=e,this.hasConsent=!0;let t=this.encodeTcString();c("euconsent-v2",t),tx().update(t,!1)}acceptAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.tcModel.setAll(),this.confirmChoice(e)}rejectAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.tcModel.unsetAll(),this.confirmChoice(e)}async init(){this.gvl=new x,this.tcModel.gvl=this.gvl,this.tcModel.cmpId=384,this.tcModel.cmpVersion=1,this.tcModel.isServiceSpecific=!0,await this.tcModel.gvl.readyPromise}shouldShow(){return!this.hasConsent||this.tcModel.policyVersion!==this.gvl.tcfPolicyVersion}}function tU(){let{dispatch:e,consent:i,isTestMode:r}=a("consent","isTestMode"),[o,c]=t(null);if(r)return null;let u=()=>{e("consent/view",{suite:"tcf",view:"summary",options:null})},d=t=>{e("consent/view",{suite:"tcf",view:"details",options:{section:t,cancel:"summary"}})},p=()=>{e("consent/view",{suite:null,view:null,options:null})};if(n(()=>{(async()=>{try{let e=l("euconsent-v2"),t=new tF(e,{openSummaryView:u,openDetailsView:d,closeView:p});await t.init(),c(t),t.shouldShow()&&("no"===l("consent")?t.rejectAll(1):u())}catch(s){console.error(s)}})()},[]),!i.suite||!i.view||!o)return null;let h={state:o,options:i.options,openSummaryView:u,openDetailsView:d,closeView:p};return"summary"===i.view?s(tP,h):"details"===i.view?s(t$,h):void 0}export{tF as ConsentState,tU as default}